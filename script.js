// ======== أنشطة لكل مزاج (30 لكل نوع) ======== //
const activities = {
  calm: [
    "تنفّس بعمق لخمس دقائق.",
    "استمع لصوت أمواج البحر.",
    "تأمل 3 أشياء أنت ممتن لها.",
    "اكتب في ورقة ما يقلقك ثم مزّق الورقة.",
    "اشرب كوب ماء بارد ببطء.",
    "استمع لصوت المطر.",
    "اقرأ صفحة من كتاب تحبه.",
    "اغلق هاتفك 10 دقائق وراقب ما حولك.",
    "تأمل شكل السحب في السماء.",
    "اشعل شمعة عطرية أو بخور.",
    "مارس تمدد الرقبة ببطء.",
    "اكتب 3 أشياء جعلتك تبتسم اليوم.",
    "اغسل وجهك بماء بارد.",
    "استمع لمعزوفة موسيقية هادئة.",
    "ارسم أي شيء بدون هدف.",
    "اكتب رسالة امتنان لشخص قريب.",
    "قف عند النافذة وتابع الناس أو السيارات.",
    "رتّب ملفاتك الرقمية 5 دقائق.",
    "أغلق عينيك وتخيل مكانك المفضل.",
    "مارس تمرين 4-7-8 للتنفس.",
    "ضع يدك على قلبك واستشعر نبضك.",
    "استلقِ على الأرض وشاهد السقف.",
    "استمع لصوت الطيور بالخارج.",
    "اقرأ آية أو اقتباس مريح.",
    "اكتب قائمة بما تحبه في نفسك.",
    "انظر لصور قديمة جميلة.",
    "أعد ترتيب مكتبك ببطء.",
    "اشرب شاي دافئ بتركيز.",
    "امشِ ببطء في مكان هادئ.",
    "اكتب مذكرات اليوم بهدوء."
  ],
  focus: [
    "اكتب 3 أولويات لليوم.",
    "اعمل جلسة بومودورو 25 دقيقة.",
    "أغلق جميع الإشعارات 15 دقيقة.",
    "احذف 5 ملفات غير مهمة من جهازك.",
    "راجع بريدك الإلكتروني ونظّفه.",
    "اكتب أهداف الأسبوع في ورقة.",
    "راجع ملاحظات اجتماع سابق.",
    "أعد ترتيب ملفات مشروعك.",
    "دوّن أفكار مشروع جديد.",
    "راجع نفقات اليوم.",
    "ضع مؤقت 10 دقائق وركز على مهمة واحدة.",
    "أعد قراءة آخر شيء كتبته وصححه.",
    "قم بعمل نسخة احتياطية لملفاتك.",
    "افتح كتاب تعلّم واقرأ فقرة.",
    "اختر مهارة واحدة لتتعلم عنها الآن.",
    "اعمل مخطط ذهني لفكرة ما.",
    "اغلق مواقع التواصل نصف ساعة.",
    "اختبر سرعة الكتابة لديك.",
    "دوّن أفكارك العشوائية لتفريغ ذهنك.",
    "أعد ترتيب سطح المكتب.",
    "راجع جدولك الأسبوعي.",
    "اكتب ملخص لكتاب قرأته.",
    "جرّب تطبيق تنظيم جديد.",
    "راجع قائمة مهام الأمس.",
    "أكمل تمرين حساب سريع.",
    "اكتب خطة صغيرة لمشروع قادم.",
    "ضع أرقام أولويات لواجباتك.",
    "تعلّم اختصار لوحة مفاتيح جديد.",
    "أعد تسمية مجلداتك بوضوح.",
    "اكتب سبب مهم لإنهاء مهمتك الآن."
  ],
  playful: [
    "ارسم شخصية كرتونية غريبة.",
    "جرّب فلتر مضحك في الكاميرا.",
    "اصنع برج من أشياء على مكتبك.",
    "اكتب قصة قصيرة من 3 جمل.",
    "ابحث عن صورة مضحكة على الإنترنت.",
    "قلّد صوت حيوان مفضل.",
    "ارقص دقيقة كاملة.",
    "اصنع لغز كلمات مع صديق.",
    "ابتكر اسم لمطعم خيالي.",
    "صمّم شعار سريع على ورقة.",
    "جرب رسم بيدك غير المهيمنة.",
    "اختر أغنية وبدّل كلماتها.",
    "أعد تمثيل مشهد فيلم تحبه.",
    "اكتب نكتة جديدة.",
    "اصنع فيديو قصير مضحك.",
    "التقط صورة لأغرب شيء حولك.",
    "اختر شيئين وادمجهم في قصة.",
    "اكتب أغرب حلم رأيته.",
    "اختر كلمة وقلها بعشر طرق.",
    "اختر 3 ألوان وارسم بها عشوائياً.",
    "أغلق عينيك وارسم دائرة.",
    "اصنع قافية من اسمك.",
    "اختر شيء وامنحه اسم بطل خارق.",
    "اختر صوت غريب وحاول تقليده.",
    "أكتب أغنية من سطر واحد.",
    "تخيل لعبة فيديو جديدة ووصفها.",
    "اختر غرض حولك واكتب له إعلان مضحك.",
    "قم بتمثيل إعلان تلفزيوني.",
    "ابتكر رقصة مضحكة خاصة بك.",
    "أخبر شخصاً بمعلومة طريفة الآن."
  ],
  energy: [
    "اقفز بالحبل 20 مرة.",
    "اعمل 10 تمارين ضغط.",
    "تمدد لمدة دقيقتين.",
    "اشرب كوب ماء دافئ بالليمون.",
    "امشي حول الغرفة 3 دقائق.",
    "قفزات جاك 15 مرة.",
    "جرب تمرين بلانك 30 ثانية.",
    "اصعد الدرج طابقين.",
    "ارفع يديك وصرخ (آه!) بحماس.",
    "اشغل أغنية سريعة وارقص.",
    "ابتسم بقوة 30 ثانية.",
    "قم بجولة تصفيق قوية.",
    "قف على رجل واحدة 20 ثانية.",
    "تنفس عميق سريع 10 مرات.",
    "ارسم حركة تاي تشي.",
    "أغمض عينيك وحرك رأسك ببطء.",
    "قفز أمام المرآة وقل شعار تحفيزي.",
    "امشي في مكانك 1 دقيقة.",
    "قم بتمارين كتف خفيفة.",
    "ارفع ركبتيك بسرعة 20 ثانية.",
    "جرّب تمرين القرفصاء 15 مرة.",
    "اصنع تحدي خطوات مع صديق.",
    "امشي خارج الغرفة وعد.",
    "صفق بإيقاع سريع.",
    "قم بتمرين توازن بسيط.",
    "حرك ذراعيك بشكل دوائر سريعة.",
    "قفزات قصيرة مع تصفيق.",
    "انحناء للأمام 10 مرات.",
    "ارفع كعبيك وانزل 20 مرة.",
    "أكمل سباق صغير في مكانك."
  ]
};

// ======== عناصر DOM ======== //
let currentMood = null;
const moodsEl = document.getElementById("moods");
const startBtn = document.getElementById("startBtn");
const randomBtn = document.getElementById("randomBtn");
const regenBtn = document.getElementById("regenBtn");
const activityCard = document.getElementById("activityCard");
const activityTitle = document.getElementById("activityTitle");
const moodTitle = document.getElementById("moodTitle");
const moodSub = document.getElementById("moodSub");

// ======== وظائف ======== //
function pickRandom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

function showActivity(){
  if(!currentMood) return;
  const idea = pickRandom(activities[currentMood]);
  activityTitle.textContent = idea;
  activityCard.classList.remove("show");
  void activityCard.offsetWidth; // لإعادة تشغيل الأنيميشن
  activityCard.classList.add("show");
  activityCard.style.display="block";
}

// ======== أحداث ======== //
moodsEl.addEventListener("click",e=>{
  const mood = e.target.closest(".mood");
  if(!mood) return;
  currentMood = mood.dataset.id;
  moodTitle.textContent = mood.querySelector(".label").textContent;
  moodSub.textContent = "اضغط (ابدأ التجربة) لتوليد نشاط جديد.";
});

startBtn.addEventListener("click",showActivity);
randomBtn.addEventListener("click",()=>{
  const keys = Object.keys(activities);
  currentMood = pickRandom(keys);
  moodTitle.textContent = "مزاج عشوائي";
  moodSub.textContent = "تم اختيار مزاج عشوائي، اضغط ابدأ.";
  showActivity();
});
regenBtn.addEventListener("click",showActivity);

// ======== فقاعات الخلفية ======== //
const right = document.querySelector(".right");
for(let i=0;i<20;i++){
  const b = document.createElement("div");
  b.className = "bubble";
  b.style.left = Math.random()*100 + "%";
  b.style.width = b.style.height = 20+Math.random()*60 + "px";
  b.style.animationDuration = 10 + Math.random()*20 + "s";
  right.appendChild(b);
}